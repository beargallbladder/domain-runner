{
  "timestamp": "2025-07-29T09:28:28.921977",
  "api_url": "https://public-api-xk5r.onrender.com",
  "summary": {
    "total_tests": 12,
    "passed": 1,
    "failed": 3,
    "warnings": 7,
    "pass_rate": 8.333333333333332
  },
  "security_checks": {
    "API Key Authentication": false,
    "Rate Limiting": false,
    "Request Logging": false,
    "Error Handling": false,
    "Data Freshness": false
  },
  "test_results": [
    {
      "name": "API Key Authentication - Valid Key",
      "status": "FAILED",
      "message": "Unexpected status code: 404",
      "duration_ms": 282.9248905181885,
      "details": {
        "status_code": 404,
        "body": "Not Found\n"
      }
    },
    {
      "name": "API Key Authentication - Invalid Key",
      "status": "WARNING",
      "message": "Expected 401, got 404",
      "duration_ms": 140.29192924499512,
      "details": {
        "status_code": 404
      }
    },
    {
      "name": "API Key Authentication - Missing Key",
      "status": "WARNING",
      "message": "Unexpected status: 404",
      "duration_ms": 68.23968887329102,
      "details": {
        "status_code": 404
      }
    },
    {
      "name": "Rate Limiting - Enforcement",
      "status": "WARNING",
      "message": "No rate limiting after 150 requests",
      "duration_ms": 13215.365886688232,
      "details": {
        "requests_made": 150
      }
    },
    {
      "name": "Rate Limiting - Headers",
      "status": "WARNING",
      "message": "No rate limit headers found",
      "duration_ms": 81.0539722442627,
      "details": {
        "all_headers": [
          "Date",
          "Content-Type",
          "Content-Length",
          "Connection",
          "x-content-type-options",
          "x-render-routing",
          "cf-cache-status",
          "Server",
          "CF-RAY",
          "alt-svc"
        ]
      }
    },
    {
      "name": "Request Logging",
      "status": "WARNING",
      "message": "Request returned 404",
      "duration_ms": 78.03988456726074,
      "details": {
        "status_code": 404
      }
    },
    {
      "name": "Data Freshness",
      "status": "FAILED",
      "message": "Stats endpoint returned 404",
      "duration_ms": 75.48093795776367,
      "details": {
        "status_code": 404
      }
    },
    {
      "name": "Public Endpoints",
      "status": "FAILED",
      "message": "5 endpoints failed",
      "duration_ms": 349.49707984924316,
      "details": {
        "failed": [
          {
            "endpoint": "/",
            "description": "Homepage",
            "status": "ERROR (404)",
            "error": "Not Found\n"
          },
          {
            "endpoint": "/health",
            "description": "Health check",
            "status": "ERROR (404)",
            "error": "Not Found\n"
          },
          {
            "endpoint": "/api/stats",
            "description": "Platform statistics",
            "status": "ERROR (404)",
            "error": "Not Found\n"
          },
          {
            "endpoint": "/api/rankings",
            "description": "Domain rankings",
            "status": "ERROR (404)",
            "error": "Not Found\n"
          },
          {
            "endpoint": "/api/domains/apple.com/public",
            "description": "Domain intelligence",
            "status": "ERROR (404)",
            "error": "Not Found\n"
          }
        ],
        "all_results": [
          {
            "endpoint": "/",
            "description": "Homepage",
            "status": "ERROR (404)",
            "error": "Not Found\n"
          },
          {
            "endpoint": "/health",
            "description": "Health check",
            "status": "ERROR (404)",
            "error": "Not Found\n"
          },
          {
            "endpoint": "/api/stats",
            "description": "Platform statistics",
            "status": "ERROR (404)",
            "error": "Not Found\n"
          },
          {
            "endpoint": "/api/rankings",
            "description": "Domain rankings",
            "status": "ERROR (404)",
            "error": "Not Found\n"
          },
          {
            "endpoint": "/api/domains/apple.com/public",
            "description": "Domain intelligence",
            "status": "ERROR (404)",
            "error": "Not Found\n"
          }
        ]
      }
    },
    {
      "name": "Error Handling",
      "status": "WARNING",
      "message": "Some error cases not handled properly",
      "duration_ms": 222.4431037902832,
      "details": {
        "results": [
          {
            "endpoint": "/api/domains/nonexistent.fake/public",
            "expected_status": 404,
            "actual_status": 404,
            "status_match": true,
            "has_error_message": false,
            "body": "Not Found\n"
          },
          {
            "endpoint": "/api/invalid/endpoint",
            "expected_status": 404,
            "actual_status": 404,
            "status_match": true,
            "has_error_message": false,
            "body": "Not Found\n"
          },
          {
            "endpoint": "/api/rankings?page=-1",
            "expected_status": 400,
            "actual_status": 404,
            "status_match": false,
            "has_error_message": false,
            "body": "Not Found\n"
          }
        ]
      }
    },
    {
      "name": "Performance",
      "status": "PASSED",
      "message": "All endpoints respond quickly",
      "duration_ms": 1122.521162033081,
      "details": {
        "performance": [
          {
            "endpoint": "/health",
            "avg_ms": 76.0,
            "max_ms": 89.9,
            "samples": 5
          },
          {
            "endpoint": "/api/stats",
            "avg_ms": 75.7,
            "max_ms": 107.0,
            "samples": 5
          },
          {
            "endpoint": "/api/rankings?limit=10",
            "avg_ms": 72.7,
            "max_ms": 85.2,
            "samples": 5
          }
        ]
      }
    },
    {
      "name": "User Registration",
      "status": "WARNING",
      "message": "Auth endpoints not yet deployed",
      "duration_ms": 81.99000358581543,
      "details": {
        "endpoint": "/api/auth/register"
      }
    },
    {
      "name": "User Login",
      "status": "SKIPPED",
      "message": "Cannot test login - registration not working",
      "duration_ms": 78.89103889465332,
      "details": {
        "registration_status": 404
      }
    }
  ]
}