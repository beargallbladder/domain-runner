{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Artifact",
  "type": "object",
  "required": ["run_id", "kind", "path", "hash", "created_at"],
  "properties": {
    "run_id": {
      "type": "string",
      "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}-[0-9]{2}Z$"
    },
    "kind": {
      "type": "string",
      "enum": ["crawl", "score", "publish", "log", "metrics", "envelope"]
    },
    "path": {
      "type": "string",
      "description": "Relative path from runs/ directory"
    },
    "hash": {
      "type": "string",
      "pattern": "^[a-f0-9]{64}$",
      "description": "SHA256 hash of the artifact"
    },
    "created_at": {
      "type": "string",
      "format": "date-time"
    },
    "size_bytes": {
      "type": "integer",
      "minimum": 0
    },
    "meta": {
      "type": "object",
      "properties": {
        "line_count": {"type": "integer"},
        "error_count": {"type": "integer"},
        "duration_ms": {"type": "integer"}
      }
    }
  }
}